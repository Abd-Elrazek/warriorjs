<!DOCTYPE html><html lang="fr"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Définition des unités · WarriorJS Docs</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="Une unité est un objet JavaScript :"/><meta property="og:title" content="Définition des unités · WarriorJS Docs"/><meta property="og:type" content="website"/><meta property="og:url" content="https://warrior.js.org/index.html"/><meta property="og:description" content="Une unité est un objet JavaScript :"/><meta property="og:image" content="https://warrior.js.org/img/warriorjs.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://warrior.js.org/img/warriorjs.png"/><link rel="shortcut icon" href="/img/favicon.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script>
              (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
              })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

              ga('create', 'UA-118632697-1', 'auto');
              ga('send', 'pageview');
            </script><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><link rel="stylesheet" href="/css/main.css"/></head><body class="sideNavVisible doc separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/fr"><img class="logo" src="/img/warriorjs-text.svg" alt="WarriorJS Docs"/></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/docs/fr/player/overview" target="_self">Joueur</a></li><li class="siteNavGroupActive"><a href="/docs/fr/maker/introduction" target="_self">Créateur</a></li><li class=""><a href="/docs/fr/community/socialize" target="_self">Communauté</a></li><span><li><a id="languages-menu" href="#"><img class="languages-icon" src="/img/language.svg"/>Français</a><div id="languages-dropdown" class="hide"><ul id="languages-dropdown-items"><li><a href="/docs/en/maker/defining-units">English</a></li><li><a href="/docs/ar/maker/defining-units">العربية</a></li><li><a href="/docs/ca/maker/defining-units">Català</a></li><li><a href="/docs/cs/maker/defining-units">Čeština</a></li><li><a href="/docs/de/maker/defining-units">Deutsch</a></li><li><a href="/docs/el/maker/defining-units">Ελληνικά</a></li><li><a href="/docs/es-ES/maker/defining-units">Español</a></li><li><a href="/docs/it/maker/defining-units">Italiano</a></li><li><a href="/docs/pl/maker/defining-units">Polskie</a></li><li><a href="/docs/ru/maker/defining-units">Русский</a></li><li><a href="/docs/sr/maker/defining-units">Српски језик (Ћирилица)</a></li><li><a href="/docs/sv-SE/maker/defining-units">Svenska</a></li><li><a href="/docs/tr/maker/defining-units">Türkçe</a></li><li><a href="/docs/zh-CN/maker/defining-units">中文</a></li><li><a href="/docs/zh-TW/maker/defining-units">繁體中文</a></li><li><a href="https://crowdin.com/project/warriorjs" target="_blank" rel="noreferrer noopener">Aidez-nous à traduire</a></li></ul></div></li><script>
        const languagesMenuItem = document.getElementById("languages-menu");
        const languagesDropDown = document.getElementById("languages-dropdown");
        languagesMenuItem.addEventListener("click", function(){
          if(languagesDropDown.className == "hide") {
            languagesDropDown.className = "visible";
          } else {
            languagesDropDown.className = "hide";
          }
        });
      </script></span><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li><li class=""><a href="https://github.com/olistic/warriorjs" target="_self">GitHub</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>Guide</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup navGroupActive"><h3>Guide</h3><ul><li class="navListItem"><a class="navItem" href="/docs/fr/maker/introduction">Introduction</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/maker/creating-tower">Créer votre tour</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/maker/adding-levels">Ajoutez des niveaux</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/maker/defining-abilities">Définition des capacités</a></li><li class="navListItem navListItemActive"><a class="navItem navItemActive" href="/docs/fr/maker/defining-units">Définition des unités</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/maker/refactoring">Refactoring</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/maker/testing">Test en cours</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/maker/publishing">Publication</a></li></ul></div><div class="navGroup navGroupActive"><h3>API constructeur</h3><ul><li class="navListItem"><a class="navItem" href="/docs/fr/maker/space-api">API de l&#x27;espace</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/maker/unit-api">API des unités</a></li></ul></div></div></section></div><script>
            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              const headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                if (event.target.tagName === 'A') {
                  document.body.classList.remove('tocActive');
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://crowdin.com/project/warriorjs/fr" target="_blank" rel="noreferrer noopener">Translate</a><h1>Définition des unités</h1></header><article><div><span><p>Une unité est un objet JavaScript :</p>
<pre><code class="hljs css languages- js"><span class="hljs-keyword">const</span> WhiteWalker = {
  <span class="hljs-comment">// Unit definition.</span>
};
</code></pre>
<p>Commençons par donner un nom à cette unité :</p>
<pre><code class="hljs css languages- js"><span class="hljs-keyword">const</span> WhiteWalker = {
  <span class="hljs-attr">name</span>: <span class="hljs-string">'White Walker'</span>,
};
</code></pre>
<blockquote>
<p>Nous n'avons pas renseigné de nom pour le guerrier car c'est le joueur qui lui en donne un pendant la partie.</p>
</blockquote>
<p>Tout comme le guerrier, d'autres unités requièrent un personnage et une valeur maximale de points de santé :</p>
<pre><code class="hljs css languages- js"><span class="hljs-keyword">const</span> WhiteWalker = {
  <span class="hljs-attr">name</span>: <span class="hljs-string">'White Walker'</span>,
  <span class="hljs-attr">character</span>: <span class="hljs-string">'w'</span>,
  <span class="hljs-attr">maxHealth</span>: <span class="hljs-number">12</span>,
};
</code></pre>
<p>Définissons maintenant une nouvelle aptitude de combat :</p>
<pre><code class="hljs css languages- js"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">iceCrystalSwordAttack</span>(<span class="hljs-params">unit</span>) </span>{
  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">action</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">description</span>:
      <span class="hljs-string">'Attack a unit in the given direction (forward by default) with your ice blade, dealing 3 HP of damage.'</span>,
    perform(direction = <span class="hljs-string">'forward'</span>) {
      <span class="hljs-keyword">const</span> receiver = unit.getSpaceAt(direction).getUnit();
      <span class="hljs-keyword">if</span> (receiver) {
        unit.log(<span class="hljs-string">`attacks <span class="hljs-subst">${direction}</span> and hits <span class="hljs-subst">${receiver}</span>`</span>);
        unit.damage(receiver, <span class="hljs-number">3</span>);
      } <span class="hljs-keyword">else</span> {
        unit.log(<span class="hljs-string">`attacks <span class="hljs-subst">${direction}</span> and hits nothing`</span>);
      }
    },
  };
}
</code></pre>
<p>Et ajoutons-la au White Walker. N'oublions pas d'ajouter également l'aptitude que nous avons déjà définie :</p>
<pre><code class="hljs css languages- js"><span class="hljs-keyword">const</span> WhiteWalker = {
  <span class="hljs-attr">name</span>: <span class="hljs-string">'White Walker'</span>,
  <span class="hljs-attr">character</span>: <span class="hljs-string">'w'</span>,
  <span class="hljs-attr">maxHealth</span>: <span class="hljs-number">12</span>,
  <span class="hljs-attr">abilities</span>: {
    <span class="hljs-attr">attack</span>: iceCrystalSwordAttack,
    <span class="hljs-attr">feel</span>: feel,
  },
};
</code></pre>
<p>Pour terminer, nous devons définir l'IA de notre White Walker. Ce sera une IA basique : le White Walker commencera son tour en essayant de ressentir la présence d'un ennemi (le guerrier) dans toutes les directions. Il lancera une attaque en direction du guerrier. Notons ce comportement dans la fonction <code>playTurn</code> :</p>
<pre><code class="hljs css languages- js"><span class="hljs-keyword">const</span> WhiteWalker = {
  <span class="hljs-attr">name</span>: <span class="hljs-string">'White Walker'</span>,
  <span class="hljs-attr">character</span>: <span class="hljs-string">'w'</span>,
  <span class="hljs-attr">maxHealth</span>: <span class="hljs-number">12</span>,
  <span class="hljs-attr">abilities</span>: {
    <span class="hljs-attr">attack</span>: iceCrystalSwordAttack,
    <span class="hljs-attr">feel</span>: feel,
  },
  playTurn(whiteWalker) {
    <span class="hljs-keyword">const</span> enemyDirection = [<span class="hljs-string">'forward'</span>, <span class="hljs-string">'right'</span>, <span class="hljs-string">'backward'</span>, <span class="hljs-string">'left'</span>].find(
      <span class="hljs-function"><span class="hljs-params">direction</span> =&gt;</span> {
        <span class="hljs-keyword">const</span> unit = whiteWalker.feel(direction).getUnit();
        <span class="hljs-keyword">return</span> unit &amp;&amp; unit.isEnemy();
      },
    );
    <span class="hljs-keyword">if</span> (enemyDirection) {
      whiteWalker.attack(enemyDirection);
    }
  },
};
</code></pre>
<blockquote>
<p>Nous n'avons pas non plus écrit l'IA pour le guerrier car elle est également fournie par le joueur pendant la partie.</p>
</blockquote>
<p>Maintenant, nous devons ajouter le White Walker au deuxième niveau. Les unités autres que le guerrier sont ajoutées à la gamme <code>units</code> au sol :</p>
<pre><code class="hljs css languages- js"><span class="hljs-keyword">const</span> Level2 = {
  <span class="hljs-attr">description</span>:
    <span class="hljs-string">'The cold became more intense. In the distance, you see a pair of deep and blue eyes, a blue that burns like ice.'</span>,
  <span class="hljs-attr">tip</span>:
    <span class="hljs-string">"Use `warrior.feel().isEmpty()` to see if there's anything in front of you, and `warrior.attack()` to fight it. Remember, you can only do one action per turn."</span>,
  <span class="hljs-attr">clue</span>:
    <span class="hljs-string">'Add an if/else condition using `warrior.feel().isEmpty()` to decide whether to attack or walk.'</span>,
  <span class="hljs-attr">timeBonus</span>: <span class="hljs-number">20</span>,
  <span class="hljs-attr">aceScore</span>: <span class="hljs-number">26</span>,
  <span class="hljs-attr">floor</span>: {
    <span class="hljs-attr">size</span>: {
      <span class="hljs-attr">width</span>: <span class="hljs-number">8</span>,
      <span class="hljs-attr">height</span>: <span class="hljs-number">1</span>,
    },
    <span class="hljs-attr">stairs</span>: {
      <span class="hljs-attr">x</span>: <span class="hljs-number">7</span>,
      <span class="hljs-attr">y</span>: <span class="hljs-number">0</span>,
    },
    <span class="hljs-attr">warrior</span>: {
      <span class="hljs-attr">character</span>: <span class="hljs-string">'@'</span>,
      <span class="hljs-attr">maxHealth</span>: <span class="hljs-number">20</span>,
      <span class="hljs-attr">position</span>: {
        <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">y</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">facing</span>: <span class="hljs-string">'east'</span>,
      },
      <span class="hljs-attr">abilities</span>: {
        <span class="hljs-attr">attack</span>: valyrianSteelSwordAttack,
        <span class="hljs-attr">feel</span>: feel,
      },
    },
    <span class="hljs-attr">units</span>: [
      {
        ...WhiteWalker,
        <span class="hljs-attr">position</span>: {
          <span class="hljs-attr">x</span>: <span class="hljs-number">4</span>,
          <span class="hljs-attr">y</span>: <span class="hljs-number">0</span>,
          <span class="hljs-attr">facing</span>: <span class="hljs-string">'west'</span>,
        },
      },
    ],
  },
};
</code></pre>
<blockquote>
<p>Ici, nous avons utilisé des propriétés espacées pour combiner la définition de l'unité et sa position au sol.</p>
</blockquote>
<p>Félicitations ! Vous avez créé votre première tour. Vous pouvez déjà l'utiliser, mais il serait bon d'y travailler encore un peu.</p>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="defining-abilities">← Définition des capacités</a><a class="docs-next button" href="refactoring">Refactoring →</a></div></div></div><nav class="onPageNav"></nav></div><footer class="footerSection nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/warriorjs-sword.svg" alt="WarriorJS Docs"/></a><div><h5>Docs</h5><a href="/docs/fr/player/overview">Player</a><a href="/docs/fr/maker/introduction">Maker</a></div><div><h5>Community</h5><a href="https://spectrum.chat/warriorjs" target="_blank" rel="noopener noreferrer">Spectrum</a><a href="https://twitter.com/warrior_js" target="_blank" rel="noopener noreferrer">Twitter</a><a href="https://twitter.com/warrior_js" target="_blank" rel="noopener noreferrer"><img alt="Follow WarriorJS on Twitter" src="https://img.shields.io/twitter/follow/warrior_js.svg?label=Follow+WarriorJS&amp;style=social"/></a></div><div><h5>More</h5><a href="https://opencollective.com/warriorjs" target="_blank" rel="noopener noreferrer">Donate</a><a href="https://github.com/olistic/warriorjs" target="_blank" rel="noopener noreferrer">GitHub</a><a class="github-button" href="https://github.com/olistic/warriorjs" data-icon="octicon-star" data-show-count="true" aria-label="Star this project on GitHub">Star</a></div></section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>window.twttr=(function(d,s, id){var js,fjs=d.getElementsByTagName(s)[0],t=window.twttr||{};if(d.getElementById(id))return t;js=d.createElement(s);js.id=id;js.src='https://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js, fjs);t._e = [];t.ready = function(f) {t._e.push(f);};return t;}(document, 'script', 'twitter-wjs'));</script><script>
              var search = docsearch({
                
                apiKey: 'af0d3f56837aacc96ccd573d9208966c',
                indexName: 'warriorjs',
                inputSelector: '#search_input_react'
              });
            </script></body></html>